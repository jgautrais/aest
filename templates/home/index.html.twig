{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }}
{% endblock %}

{% block body %}
	<div class="text-center font-bold mb-5 sm:mb-8">
		<h2 class=" mt-3 text-lg sm:text-xl text-gray-400">
			Area estimation tool
		</h2>
		<h3 class="description text-sm text-gray-500 sm:w-80 mt-12 mx-5">
			Try to guess the percentage of black squares cover in the area below
		</h3>
	</div>
	{% include "/home/_login_modal.html.twig" %}
	<div class="relative flex-grow max-w-2xl w-full flex flex-col md:flex-row items-center md:justify-around md:items-start">

		<div class="area_border relative border-2 border-black">
			<p class="absolute pb-4 text-sm hidden" id="turnCounter">Turn&nbsp;
				<span id="turnCount"></span>
			</p>
			<table class="area_container w-full h-full" id="areaContainer"></table>
			<p class="absolute text-red-700 text-xs py-0.5 px-1 bg-red-100 mt-1 mx-auto hidden" id="turnError">Error, turn not recorded
			</p>
			<div class="stats_container absolute hidden w-full h-full bg-white py-4 px-8" id="stats">
				<div class="flex flex-col h-full">
					<div class="text-center">
						<p class="text-3xl mb-0.5">Game
							<span id="statsGameCount"></span>
						</p>
						<p>
							<span id="statsTurnCount" class="font-bold text-lg"></span>
						</p>
						<p class="mt-2 text-xs">Accuracy:
							<span id="statsAccuracy" class="font-bold text-xl"></span>
							%
						</p>
					</div>
					<div class="text-xs border-l-2 border-black flex-grow mt-3.5 mb-2 flex justify-between">
						<div class="w-5/6">
							<p class="bg-green-500 my-4 py-1" id="statsPrecision0Percentage">
								<span class="pl-4">&lt;&nbsp;5%</span>
							</p>
							<p class="bg-yellow-300 my-4 py-1" id="statsPrecision1Percentage">
								<span class="pl-4">&lt;&nbsp;10%</span>
							</p>
							<p class="bg-red-500 my-4 py-1" id="statsPrecision2Percentage">
								<span class="pl-4">&gt;=10%</span>
							</p>
						</div>
						<div class="w-1/6">
							<p class="my-4 pl-4 py-1" id="statsPrecision0Count"></p>
							<p class="my-4 pl-4 py-1" id="statsPrecision1Count"></p>
							<p class="my-4 pl-4 py-1" id="statsPrecision2Count"></p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="relative board_container mt-6 md:mt-0 flex flex-col items-center" id="board">
			<div class="my-4">
				<button type="button" class="text-sm text-white bg-black px-4 py-3 hover:bg-gray-700" id="startButton">
					Start Game !
				</button>
				<button type="button" class="hidden absolute right-0 top-4 text-sm text-white button-disabled px-4 py-3 hover:bg-gray-700" id="endButton">
					End
				</button>
			</div>
			<form id="inputForm" class="text-sm flex flex-col items-center mt-2">
				<label for="inputValue">Blackened area in %:</label>
				<input type="text" inputmode="numeric" pattern="[0-9]*" id="inputValue" class="mt-3 mb-4 bg-gray-100 text-center py-2 px-2 w-16 rounded" disabled/>
				<input type="submit" value="Submit" id="inputSubmit" class="text-sm text-white px-3 py-2 cursor-pointer hover:bg-gray-700 button-disabled" disabled/>
			</form>
			<div id="boardScore" class="hidden text-sm mt-6 py-2 px-4 bg-white">
				<p>
					<span class="inline-block w-36">Your estimate :
					</span>
					<b id="scoreEstimate"></b>
					%
				</p>
				<p>
					<span class="inline-block w-36">Actual is :
					</span>
					<b id="scoreTarget"></b>
					%
				</p>
			</div>
		</div>
	</div>


{% endblock %}
